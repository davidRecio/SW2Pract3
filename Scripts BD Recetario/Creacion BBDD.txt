drop database if exists pruebaRecetario;

create database pruebaRecetario;

use pruebaRecetario;


create table receta( 
	receta_id integer primary key auto_increment not null,
	nombre_receta varchar (50),
	dificultad_receta varchar (20),
	precio double
);

create table recetario( 
	recetario_id integer primary key auto_increment,
	nombre_recetario varchar (50),
	precio double,
	nombre_conjunto varchar (20),
	foreign key (nombre_conjunto) references conjunto_recetario (nombre_conjunto)
);

create table recetario_receta(
	recetario_id integer not null,
	receta_id integer not null,
	foreign key (recetario_id) references recetario (recetario_id),
	foreign key (receta_id) references receta (receta_id),
	primary key (recetario_id, receta_id)
);

create table ingrediente(
	ingrediente_id integer primary key auto_increment not null,
	nombre_ingrediente varchar (20)
);

create table receta_ingrediente(
	receta_id integer not null,
	ingrediente_id integer not null,
	foreign key (receta_id) references receta (receta_id),
	foreign key (ingrediente_id) references ingrediente (ingrediente_id),
	primary key (receta_id, ingrediente_id)
);

create table usuario(
	usuario_id integer primary key auto_increment not null,
	nombre_usuario varchar (30),
	contase√±a varchar (8)
);

create table conjunto_recetario(
	conjunto_id integer primary key not null, 
	nombre_conjunto varchar (20),
	usuario_id integer,
	foreign key (usuario_id) references usuario (usuario_id),
	foreign key (nombre_recetario) references recetario (nombre_recetario)
);

